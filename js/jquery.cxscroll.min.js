/*!
 * cxScroll 1.0
 * http://code.ciaoca.com/
 * https://github.com/ciaoca/cxScroll
 * E-mail: ciaoca@gmail.com
 * Released under the MIT license
 * Date: 2012-12-07
 */
!function(a){a.fn.cxScroll=function(b){var c,d;if(this.length&&(b=a.extend({},a.cxScroll.defaults,b),c=this,d={},d.fn={},d.box=c.find(".box"),d.list=d.box.find(".list"),d.items=d.list.find("li"),d.itemSum=d.items.length,!(d.itemSum<=1))){if(d.plusBtn=c.find(".plus"),d.minusBtn=c.find(".minus"),d.itemWidth=d.items.outerWidth(),d.itemHeight=d.items.outerHeight(),"left"==b.direction||"right"==b.direction){if(d.itemWidth*d.itemSum<=d.box.outerWidth())return;d.plusVal="left",d.minusVal="right",d.moveVal=d.itemWidth}else{if(d.itemHeight*d.itemSum<=d.box.outerHeight())return;d.plusVal="top",d.minusVal="bottom",d.moveVal=d.itemHeight}b.plus&&!d.plusBtn.length&&(d.plusBtn=a("<a></a>",{"class":"plus"}).appendTo(c)),b.minus&&!d.minusBtn.length&&(d.minusBtn=a("<a></a>",{"class":"minus"}).appendTo(c)),d.list.append(d.list.html()),d.fn.on=function(){b.auto&&(d.fn.off(),d.run=setTimeout(function(){d.fn.goto(b.direction)},b.time))},d.fn.off=function(){"undefined"!=typeof d.run&&clearTimeout(d.run)},d.fn.addControl=function(){b.plus&&d.minusBtn.length&&d.plusBtn.bind("click",function(){d.fn.goto(d.plusVal)}),b.minus&&d.minusBtn.length&&d.minusBtn.bind("click",function(){d.fn.goto(d.minusVal)})},d.fn.removeControl=function(){d.plusBtn.length&&d.plusBtn.unbind("click"),d.minusBtn.length&&d.minusBtn.unbind("click")},d.fn.goto=function(c){var e,f;switch(d.fn.off(),d.fn.removeControl(),d.box.stop(!0),c){case"left":case"top":e=0,"left"==c?(0==parseInt(d.box.scrollLeft(),10)&&d.box.scrollLeft(d.itemSum*d.moveVal),f=d.box.scrollLeft()-d.moveVal*b.step,e>f&&(f=e),d.box.animate({scrollLeft:f},b.speed,function(){parseInt(d.box.scrollLeft(),10)<=e&&d.box.scrollLeft(0),d.fn.addControl()})):(0==parseInt(d.box.scrollTop(),10)&&d.box.scrollTop(d.itemSum*d.moveVal),f=d.box.scrollTop()-d.moveVal*b.step,e>f&&(f=e),d.box.animate({scrollTop:f},b.speed,function(){parseInt(d.box.scrollTop(),10)<=e&&d.box.scrollTop(0),d.fn.addControl()}));break;case"right":case"bottom":e=d.itemSum*d.moveVal,"right"==c?(f=d.box.scrollLeft()+d.moveVal*b.step,f>e&&(f=e),d.box.animate({scrollLeft:f},b.speed,function(){parseInt(d.box.scrollLeft(),10)>=e&&d.box.scrollLeft(0)})):(f=d.box.scrollTop()+d.moveVal*b.step,f>e&&(f=e),d.box.animate({scrollTop:f},b.speed,function(){parseInt(d.box.scrollTop(),10)>=e&&d.box.scrollTop(0)}))}d.box.queue(function(){d.fn.addControl(),d.fn.on(),a(this).dequeue()})},d.box.hover(function(){d.fn.off()},function(){d.fn.on()}),d.fn.addControl(),d.fn.on()}},a.cxScroll={defaults:{direction:"right",step:1,speed:800,time:4e3,auto:!0,plus:!0,minus:!0}}}(jQuery);